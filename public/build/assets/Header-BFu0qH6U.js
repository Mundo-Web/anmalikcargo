import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as a}from"./index-B80Lgev0.js";import{C as z}from"./Header-DiUAVBz6.js";const R=({session:k,showSlogan:g,gradientStart:S,menuGradientEnd:$,backgroundType:l="none",backgroundSrc:f="",backgroundHeight:b="h-screen",backgroundPosition:h="object-top",children:u})=>{const[c,o]=a.useState(!1),d=a.useRef(null),x=a.useRef(null),N=s=>{s.target.closest(".menu-toggle")?o(!c):o(!1)};a.useEffect(()=>{const s=t=>{x.current==t.target||x.current.contains(t.target)||d.current&&!d.current.contains(t.target)&&o(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const[w,v]=a.useState(!1);a.useEffect(()=>{const s=()=>{v(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const{carrito:r,eliminarProducto:y}=a.useContext(z),[j,p]=a.useState(!1),i=r.reduce((s,t)=>s+t.quantity,0);a.useEffect(()=>{i>0&&(p(!0),setTimeout(()=>p(!1),500))},[i]);const[m,n]=a.useState(!1),C=r.reduce((s,t)=>s+t.final_price*t.quantity,0);return e.jsxs(e.Fragment,{children:[g&&e.jsxs("div",{className:"text-center px-[5%] py-3 bg-[#6048B7] text-white text-[14.21px] md:text-[16.21px] leading-6 uppercase",children:[e.jsx("span",{className:"text-[#DDEC4C] font-bold ",children:"¡ENVÍO GRATIS"})," ","A TODO LIMA METROPOLITANA!"]}),e.jsxs("div",{className:`w-full max-w-full relative ${b} overflow-clip `,children:[l==="image"&&e.jsx("img",{src:f,className:`absolute -z-10 inset-0 w-screen h-full  object-cover ${h}`,alt:"Background"}),l==="video"&&e.jsx("video",{className:`absolute -z-10 inset-0  w-screen h-full  object-cover ${h}`,autoPlay:!0,loop:!0,muted:!0,children:e.jsx("source",{src:f,type:"video/mp4"})}),(l==="image"||l==="video")&&e.jsx("div",{className:"absolute inset-0 ",style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"}}),e.jsx("header",{className:`fixed top-0 w-full max-w-full overflow-hidden z-40 transition-colors duration-300 ${l==="none"?"bg-[#5339B1]":w?"bg-[#5339B1] pt-0 ":"bg-transparent pt-14 lg:pt-10"}`,children:e.jsxs("div",{className:"px-[5%] py-4 lg:py-0 lg:max-w-6xl 2xl:max-w-7xl mx-auto flex w-full justify-between items-center text-white shadow-lg lg:shadow-none ",children:[e.jsxs("div",{className:"flex items-center w-full  lg:hidden",children:[e.jsx("button",{ref:x,onClick:N,className:"text-white pr-6 menu-toggle ","aria-label":"Toggle menu",children:e.jsx("i",{className:`fas ${c?"fa-times":"fa-bars"} text-lg md:text-2xl`})}),e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"WeFem Logo",className:"h-[27px] w-[150.55px] md:h-[36.8px] md:w-[210.55px] object-cover object-top"})})]}),e.jsxs("div",{className:"hidden lg:flex py-6 mx-auto w-full justify-between items-center font-medium text-[12.84px] leading-[18.55px]",children:[e.jsxs("nav",{className:"flex gap-8 ",children:[e.jsx("a",{href:"/catalog",children:"Tienda"}),e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"}),e.jsx("a",{href:"/about",children:"Nosotrxs"}),e.jsx("a",{href:"/quiz",children:"Quiz"})]}),e.jsx("a",{href:"/",className:"flex justify-start",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[30.8px] w-[180.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}})}),e.jsxs("div",{className:"flex space-x-4 text-[20.93px] items-center",children:[e.jsx("a",{href:"#",className:"text-[12.84px]",children:"Escríbenos"}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-instagram"})}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-facebook"})}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-tiktok"})}),e.jsxs("button",{onClick:()=>n(!m),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-2 -right-2 bg-white text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold transition-transform ${j?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:i})]})]})]}),e.jsx("div",{className:" lg:hidden",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("a",{href:"/quiz",children:"Quiz"}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),e.jsxs("button",{onClick:()=>n(!m),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-2 -right-2 bg-white text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold transition-transform ${j?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:i})]})]})})]})}),e.jsx("div",{ref:d,className:`absolute top-16 md:top-20 inset-0 text-white z-[999] transform ${c?"opacity-1 block":"hidden opacity-0"} transition-transform duration-300 ease-in-out p-[5%] h-max overflow-y-auto `,style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"},children:e.jsxs("ul",{className:"flex flex-col gap-4 items-center justify-center",children:[e.jsx("li",{children:e.jsx("a",{href:"/catalog",children:"Tienda"})}),e.jsx("li",{children:e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",children:"Nosotrxs"})}),e.jsx("li",{children:e.jsx("a",{href:"/quiz",children:"Quiz"})})]})}),u&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-white p-6",children:u}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>n(!1)}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 bg-white shadow-lg z-50 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Tu Carrito"}),e.jsx("button",{onClick:()=>n(!1),className:"text-lg font-bold",children:"✖"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):r.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-2",children:[e.jsx("img",{src:`api/items/media/${s.image}`,alt:s.name,onError:E=>E.target.src="/api/cover/thumbnail/null",className:"w-16 h-16 object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-gray-500",children:["S/ ",s.final_price," x"," ",s.quantity]})]}),e.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition",onClick:()=>y(s.id),children:"🗑️"})]},t))}),e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Total: S/ ",C.toFixed(2)]}),e.jsx("a",{href:"/checkout",className:"mt-2 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:"Finalizar Compra"})]})]})]})]})]})};export{R as H};
