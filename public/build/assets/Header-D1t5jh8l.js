var L=Object.defineProperty;var _=(l,i,r)=>i in l?L(l,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[i]=r;var x=(l,i,r)=>(_(l,typeof i!="symbol"?i+"":i,r),r);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as n}from"./index-B80Lgev0.js";import{a as G}from"./Detail-BJYvs1f2.js";import{m as v}from"./main-Br9xqDfn.js";import{B as M}from"./Results-CRgPU-zH.js";import{c as P}from"./createLucideIcon-Cx5eUsrb.js";class W extends M{constructor(){super(...arguments);x(this,"path","generals");x(this,"getSocials",async()=>{try{const{status:r,result:s}=await v.Fetch(`/api/${this.path}/get-socials`,{method:"GET"});if(!r)throw new Error((s==null?void 0:s.message)??"Ocurrió un error al consultar");return(s==null?void 0:s.data)??[]}catch(r){return console.error("Error en getSocials:",r),[]}});x(this,"getBenefits",async()=>{try{const{status:r,result:s}=await v.Fetch(`/api/${this.path}/get-benefits`,{method:"GET"});if(console.log("Respuesta completa:",r,s),!r)throw new Error((s==null?void 0:s.message)??"Ocurrió un error al consultar");return console.log(s),(s==null?void 0:s.data)??[]}catch(r){return console.log("Error en getSocials:",r),[]}});x(this,"getAboutuses",async()=>{try{const{status:r,result:s}=await v.Fetch(`/api/${this.path}/get-aboutuses`,{method:"GET"});if(!r)throw new Error((s==null?void 0:s.message)??"Ocurrió un error al consultar");return(s==null?void 0:s.data)??[]}catch(r){return console.error("Error en getAboutuses:",r),[]}})}}/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),H=new W,Z=({session:l,showSlogan:i=!0,gradientStart:r,menuGradientEnd:s,backgroundType:c="none",backgroundSrc:y="",backgroundHeight:O="h-full",backgroundPosition:k="object-top",children:E})=>{const[g,j]=n.useState(!1),b=n.useRef(null),w=n.useRef(null),R=t=>{t.target.closest(".menu-toggle")?j(!g):j(!1)};n.useEffect(()=>{const t=a=>{w.current==a.target||w.current.contains(a.target)||b.current&&!b.current.contains(a.target)&&j(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const[S,A]=n.useState(!1);n.useEffect(()=>{const t=()=>{A(window.scrollY>50)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const{carrito:m,eliminarProducto:q}=n.useContext(G),[C,T]=n.useState(!1),h=m.reduce((t,a)=>a.variations&&a.variations.length>0?t+a.variations.reduce((o,d)=>o+d.quantity,0):t+a.quantity,0);n.useEffect(()=>{h>0&&(T(!0),setTimeout(()=>T(!1),500))},[h]);const[N,f]=n.useState(!1),B=m.reduce((t,a)=>a.variations&&a.variations.length>0?t+a.variations.reduce((o,d)=>o+a.final_price*d.quantity,0):t+a.final_price*a.quantity,0),[u,I]=n.useState([]);n.useEffect(()=>{(async()=>{try{const a=await H.getSocials();I(a)}catch(a){console.error("Error fetching socials:",a)}})()},[]);const z=u.find(t=>t.description==="TikTok"),p=u.find(t=>t.description==="WhatsApp"),$=u.find(t=>t.description==="Instagram"),F=u.find(t=>t.description==="Facebook");return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:`text-center px-[5%] py-3 font-light bg-[#6048B7] text-white text-[13.21px] md:text-[16.21px] leading-6 uppercase tracking-[0.2em] font-poppins w-full  ${c==="none"&&"mb-[78px] "}`,children:[e.jsx("span",{className:"text-[#DDEC4C] font-semibold",children:"¡ENVÍO GRATIS"})," ","A TODO LIMA METROPOLITANA!"]}),e.jsxs("div",{className:`w-full max-w-full relative ${O} overflow-clip `,children:[c==="image"&&e.jsx("img",{src:y,className:`absolute -z-10 inset-0 w-screen h-full  object-cover ${k}`,alt:"Background"}),c==="video"&&e.jsx("video",{className:`absolute -z-10 inset-0  w-screen h-full  object-cover ${k}`,autoPlay:!0,loop:!0,muted:!0,children:e.jsx("source",{src:y,type:"video/mp4"})}),(c==="image"||c==="video")&&e.jsx("div",{className:"absolute inset-0 ",style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"}}),e.jsxs("header",{className:`font-poppins fixed top-0 w-full max-w-full overflow-hidden z-40 transition-colors duration-300 ${c==="none"?"bg-[#5339B1] mt-12 ":S?"bg-[#5339B1]  pt-0 !mt-0 ":"bg-transparent top-4 pt-14 lg:pt-10"} ${S&&"bg-[#5339B1]  pt-0 !mt-0 transition-all duration-150 "}`,children:[e.jsxs("div",{className:"px-[5%] py-4 lg:py-0 lg:max-w-7xl 2xl:max-w-[92rem] mx-auto flex w-full justify-between items-center text-white shadow-lg lg:shadow-none ",children:[e.jsxs("div",{className:"flex items-center w-full  lg:hidden",children:[e.jsx("button",{ref:w,onClick:R,className:"text-white pr-6 menu-toggle ","aria-label":"Toggle menu",children:e.jsx("i",{className:`fas ${g?"fa-times":"fa-bars"} text-lg md:text-2xl`})}),e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"WeFem Logo",className:"h-[27px] w-[150.55px] md:h-[36.8px] md:w-[210.55px] object-cover object-top"})})]}),e.jsxs("div",{className:"hidden lg:flex py-6 mx-auto w-full justify-between items-center font-normal text-[16px] leading-[18.55px] tracking-widest",children:[e.jsxs("nav",{className:"flex gap-6 ",children:[e.jsx("a",{href:"/catalog",children:"Tienda"}),e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"}),e.jsx("a",{href:"/about",children:"Nosotrxs"}),e.jsx("a",{href:"/quiz",children:"Quiz"})]}),e.jsx("a",{href:"/",className:"flex justify-start",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[38px] w-[230.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}})}),e.jsxs("div",{className:"flex space-x-4 text-[21.93px] items-center",children:[e.jsx("span",{className:"text-[16px]",children:"Escríbenos"}),p&&e.jsx("a",{href:p.link,target:"_blank",className:"flex justify-center items-center cursor-pointer",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),$&&e.jsx("a",{href:$.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-instagram"})}),F&&e.jsx("a",{href:F.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-facebook"})}),z&&e.jsx("a",{href:z.link,target:"_blank",children:e.jsx("i",{className:"fa-brands fa-tiktok"})}),e.jsxs("button",{onClick:()=>f(!N),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-1 -right-1 bg-[#FF9900] text-white rounded-full w-3 h-3 flex items-center justify-center text-[10px] font-medium transition-transform ${C?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:h})]})]})]}),e.jsx("div",{className:" lg:hidden",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("a",{href:"/quiz",children:"Quiz"}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),e.jsxs("button",{onClick:()=>f(!N),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-2 -right-2 bg-white text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold transition-transform ${C?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:h})]})]})})]}),p&&e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative  ",children:e.jsx("div",{className:"fixed bottom-6 sm:bottom-[2rem] lg:bottom-[2rem] lg:right-3 z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:p.link,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[80px] md:h-[80px]  animate-bounce duration-300"})})})})]}),e.jsx("div",{ref:b,className:`absolute top-16 md:top-20 inset-0 text-white z-[999] transform ${g?"opacity-1 block":"hidden opacity-0"} transition-transform duration-300 ease-in-out p-[5%] h-max overflow-y-auto `,style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"},children:e.jsxs("ul",{className:"flex flex-col gap-4 items-center justify-center",children:[e.jsx("li",{children:e.jsx("a",{href:"/catalog",children:"Tienda"})}),e.jsx("li",{children:e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",children:"Nosotrxs"})}),e.jsx("li",{children:e.jsx("a",{href:"/quiz",children:"Quiz"})})]})}),E&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-white p-6",children:E}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>f(!1)}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 bg-white shadow-lg z-50 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Tu Carrito"}),e.jsx("button",{onClick:()=>f(!1),className:"text-lg font-bold",children:"✖"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:m.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):m.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-2",children:[e.jsx("img",{src:`/api/items/media/${t.image}`,alt:t.name,onError:o=>o.target.src="/api/cover/thumbnail/null",className:"w-16 h-16 object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:t.name}),e.jsxs("p",{className:"text-gray-500",children:["S/ ",t.final_price," x"," ",t.variations&&t.variations.length>0?t.variations.reduce((o,d)=>o+d.quantity,0):t.quantity]})]}),e.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition",onClick:()=>q(t.id),children:e.jsx(D,{width:"1rem"})})]},a))}),e.jsxs("div",{className:"p-4 border-t w-full",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Total: S/ ",B.toFixed(2)]}),e.jsx("a",{href:"/checkout",className:"block text-center  w-full my-4 mt-2  bg-[#6048B7] text-white py-3 rounded-lg hover:bg-opacity-90 transition-all duration-300",children:"Finalizar Compra"})]})]})]})]})]})};export{W as G,Z as H};
