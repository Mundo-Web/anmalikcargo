var x=Object.defineProperty;var R=(i,r,o)=>r in i?x(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var m=(i,r,o)=>(R(i,typeof r!="symbol"?r+"":r,o),o);import{j as t}from"./AboutHeader-CpM0iYLI.js";import{r as s}from"./index-B80Lgev0.js";import{c as h}from"./ReactAppend-CBRQCQGz.js";import{B as b}from"./Base-DWD1yMIS.js";import{C as j}from"./CreateReactScript-CLK1ONDs.js";import{T as v}from"./Table-COKXynOQ.js";import{M as g}from"./Modal-DUfP1iw0.js";import{I as D}from"./InputFormGroup-aNCWUTCq.js";import{D as I}from"./DxButton-CsjWvhyj.js";import{T as w}from"./TextareaFormGroup-BkvHoRll.js";import{B}from"./Results-Bfh1pGtp.js";import"./sweetalert2.all-Dh0rZL5X.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";/* empty css              */import"./Logout-CPQZ59pt.js";import"./main-B2CtU6ez.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./index.esm-Cu-mVv1q.js";/* empty css               */class E extends B{constructor(){super(...arguments);m(this,"path","admin/indicators")}}const p=new E,F=()=>{const i=s.useRef(),r=s.useRef(),o=s.useRef(),n=s.useRef(),c=s.useRef(),[d,l]=s.useState(!1),u=e=>{e!=null&&e.id?l(!0):l(!1),o.current.value=(e==null?void 0:e.id)??"",n.current.value=(e==null?void 0:e.name)??"",c.current.value=(e==null?void 0:e.description)??"",$(r.current).modal("show")},f=async e=>{e.preventDefault();const a={id:o.current.value||void 0,name:n.current.value,description:c.current.value};await p.save(a)&&($(i.current).dxDataGrid("instance").refresh(),$(r.current).modal("hide"))};return t.jsxs(t.Fragment,{children:[t.jsx(v,{gridRef:i,title:"Indicadores",rest:p,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(i.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Titulo"},{dataField:"description",caption:"Descripción"},{caption:"Acciones",cellTemplate:(e,{data:a})=>{e.append(I({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>u(a)}))},allowFiltering:!1,allowExporting:!1}]}),t.jsx(g,{modalRef:r,title:d?"Editar indicador":"Agregar indicador",onSubmit:f,size:"md",children:t.jsxs("div",{className:"row",id:"indicators-container",children:[t.jsx("input",{ref:o,type:"hidden"}),t.jsx(D,{eRef:n,label:"Título",disabled:!0}),t.jsx(w,{eRef:c,label:"Descripción"})]})})]})};j((i,r)=>{h(i).render(t.jsx(b,{...r,title:"Indicadores",children:t.jsx(F,{...r})}))});
