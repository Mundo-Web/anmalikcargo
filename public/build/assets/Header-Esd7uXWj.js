var L=Object.defineProperty;var M=(l,i,r)=>i in l?L(l,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[i]=r;var u=(l,i,r)=>(M(l,typeof i!="symbol"?i+"":i,r),r);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as n}from"./index-B80Lgev0.js";import{a as _}from"./Detail-CXTmwOV3.js";import{m as F}from"./main-B2CtU6ez.js";import{B as G}from"./Results-Bfh1pGtp.js";import{c as P}from"./createLucideIcon-Cx5eUsrb.js";class W extends G{constructor(){super(...arguments);u(this,"path","generals");u(this,"getSocials",async()=>{try{const{status:r,result:a}=await F.Fetch(`/api/${this.path}/get-socials`,{method:"GET"});if(!r)throw new Error((a==null?void 0:a.message)??"Ocurrió un error al consultar");return(a==null?void 0:a.data)??[]}catch(r){return console.error("Error en getSocials:",r),[]}});u(this,"getBenefits",async()=>{try{const{status:r,result:a}=await F.Fetch(`/api/${this.path}/get-benefits`,{method:"GET"});if(console.log("Respuesta completa:",r,a),!r)throw new Error((a==null?void 0:a.message)??"Ocurrió un error al consultar");return console.log(a),(a==null?void 0:a.data)??[]}catch(r){return console.log("Error en getSocials:",r),[]}})}}/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),H=new W,Z=({session:l,showSlogan:i=!0,gradientStart:r,menuGradientEnd:a,backgroundType:c="none",backgroundSrc:N="",backgroundHeight:R="h-screen",backgroundPosition:v="object-top",children:y})=>{const[p,g]=n.useState(!1),j=n.useRef(null),b=n.useRef(null),$=s=>{s.target.closest(".menu-toggle")?g(!p):g(!1)};n.useEffect(()=>{const s=t=>{b.current==t.target||b.current.contains(t.target)||j.current&&!j.current.contains(t.target)&&g(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const[O,q]=n.useState(!1);n.useEffect(()=>{const s=()=>{q(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const{carrito:x,eliminarProducto:A}=n.useContext(_),[k,E]=n.useState(!1),f=x.reduce((s,t)=>t.variations&&t.variations.length>0?s+t.variations.reduce((o,d)=>o+d.quantity,0):s+t.quantity,0);n.useEffect(()=>{f>0&&(E(!0),setTimeout(()=>E(!1),500))},[f]);const[w,h]=n.useState(!1),B=x.reduce((s,t)=>t.variations&&t.variations.length>0?s+t.variations.reduce((o,d)=>o+t.final_price*d.quantity,0):s+t.final_price*t.quantity,0),[m,I]=n.useState([]);n.useEffect(()=>{(async()=>{try{const t=await H.getSocials();I(t)}catch(t){console.error("Error fetching socials:",t)}})()},[]);const S=m.find(s=>s.description==="TikTok"),C=m.find(s=>s.description==="WhatsApp"),T=m.find(s=>s.description==="Instagram"),z=m.find(s=>s.description==="Facebook");return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"text-center px-[5%] py-3 font-light bg-[#6048B7] text-white text-[14.21px] md:text-[16.21px] leading-6 uppercase tracking-[0.2em] font-poppins",children:[e.jsx("span",{className:"text-[#DDEC4C] font-semibold ",children:"¡ENVÍO GRATIS"})," ","A TODO LIMA METROPOLITANA!"]}),e.jsxs("div",{className:`w-full max-w-full relative ${R} overflow-clip `,children:[c==="image"&&e.jsx("img",{src:N,className:`absolute -z-10 inset-0 w-screen h-full  object-cover ${v}`,alt:"Background"}),c==="video"&&e.jsx("video",{className:`absolute -z-10 inset-0  w-screen h-full  object-cover ${v}`,autoPlay:!0,loop:!0,muted:!0,children:e.jsx("source",{src:N,type:"video/mp4"})}),(c==="image"||c==="video")&&e.jsx("div",{className:"absolute inset-0 ",style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"}}),e.jsx("header",{className:`font-poppins fixed top-0 w-full max-w-full overflow-hidden z-40 transition-colors duration-300 ${c==="none"?"bg-[#5339B1]":O?"bg-[#5339B1] pt-0 ":"bg-transparent top-6 pt-14 lg:pt-10"}`,children:e.jsxs("div",{className:"px-[5%] py-4 lg:py-0 lg:max-w-7xl 2xl:max-w-[92rem] mx-auto flex w-full justify-between items-center text-white shadow-lg lg:shadow-none ",children:[e.jsxs("div",{className:"flex items-center w-full  lg:hidden",children:[e.jsx("button",{ref:b,onClick:$,className:"text-white pr-6 menu-toggle ","aria-label":"Toggle menu",children:e.jsx("i",{className:`fas ${p?"fa-times":"fa-bars"} text-lg md:text-2xl`})}),e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"WeFem Logo",className:"h-[27px] w-[150.55px] md:h-[36.8px] md:w-[210.55px] object-cover object-top"})})]}),e.jsxs("div",{className:"hidden lg:flex py-6 mx-auto w-full justify-between items-center font-normal text-[14.54px] leading-[18.55px] tracking-widest",children:[e.jsxs("nav",{className:"flex gap-6 ",children:[e.jsx("a",{href:"/catalog",children:"Tienda"}),e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"}),e.jsx("a",{href:"/about",children:"Nosotrxs"}),e.jsx("a",{href:"/quiz",children:"Quiz"})]}),e.jsx("a",{href:"/",className:"flex justify-start",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[38px] w-[230.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}})}),e.jsxs("div",{className:"flex space-x-4 text-[21.93px] items-center",children:[e.jsx("span",{className:"text-[14.54px]",children:"Escríbenos"}),C&&e.jsx("a",{href:C.link,target:"_blank",className:"flex justify-center items-center cursor-pointer",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),T&&e.jsx("a",{href:T.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-instagram"})}),z&&e.jsx("a",{href:z.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-facebook"})}),S&&e.jsx("a",{href:S.link,target:"_blank",children:e.jsx("i",{className:"fa-brands fa-tiktok"})}),e.jsxs("button",{onClick:()=>h(!w),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-1 -right-1 bg-[#FF9900] text-white rounded-full w-3 h-3 flex items-center justify-center text-[10px] font-medium transition-transform ${k?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:f})]})]})]}),e.jsx("div",{className:" lg:hidden",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("a",{href:"/quiz",children:"Quiz"}),e.jsx("a",{href:"#",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),e.jsxs("button",{onClick:()=>h(!w),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-2 -right-2 bg-white text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold transition-transform ${k?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:f})]})]})})]})}),e.jsx("div",{ref:j,className:`absolute top-16 md:top-20 inset-0 text-white z-[999] transform ${p?"opacity-1 block":"hidden opacity-0"} transition-transform duration-300 ease-in-out p-[5%] h-max overflow-y-auto `,style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"},children:e.jsxs("ul",{className:"flex flex-col gap-4 items-center justify-center",children:[e.jsx("li",{children:e.jsx("a",{href:"/catalog",children:"Tienda"})}),e.jsx("li",{children:e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",children:"Nosotrxs"})}),e.jsx("li",{children:e.jsx("a",{href:"/quiz",children:"Quiz"})})]})}),y&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-white p-6",children:y}),w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>h(!1)}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 bg-white shadow-lg z-50 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Tu Carrito"}),e.jsx("button",{onClick:()=>h(!1),className:"text-lg font-bold",children:"✖"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:x.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):x.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-2",children:[e.jsx("img",{src:`/api/items/media/${s.image}`,alt:s.name,onError:o=>o.target.src="/api/cover/thumbnail/null",className:"w-16 h-16 object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-gray-500",children:["S/ ",s.final_price," x"," ",s.variations&&s.variations.length>0?s.variations.reduce((o,d)=>o+d.quantity,0):s.quantity]})]}),e.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition",onClick:()=>A(s.id),children:e.jsx(D,{width:"1rem"})})]},t))}),e.jsxs("div",{className:"p-4 border-t w-full",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Total: S/ ",B.toFixed(2)]}),e.jsx("a",{href:"/checkout",className:"block text-center  w-full my-4 mt-2  bg-[#6048B7] text-white py-3 rounded-lg hover:bg-opacity-90 transition-all duration-300",children:"Finalizar Compra"})]})]})]})]})]})};export{W as G,Z as H};
